# cmdtest
Тестовое задание - HTTP Сервис + Телеграм бот

HTTP Сервис принимает 3 запроса:
1. /stats GET с параметром period - возращает отчет за период
2. /sells GET без параметров - выдает список всех продаж (использовал для выгрузки данных в PowerBI)
3. /sell POST принимает данные для внесения в базу (id:int, qty:int, date:str)

Телеграм Бот
1. Отправляет запись о продаже в текущем месяце по форме: Товар 10, где 10 это количество.
2. Получает отчет по выборанному месяцу (любой месяц в году) --> Всего выручка ---- , всего маржа ----

PowerBI 
1. Сравнение двух временных периодов по разнице выручки в % и числовом соотношении. Также есть сравнение по продажам в целом.
2. Также есть возможность пронаблоюдать сравнение периодов в разрезе категорий.
3. Добавил также несколько график из библиотеки seaborn, "красивые" и более отражают данные.
4. Данные в таблицу подгружаются через запрос в созданный HTTP Сервис  

Использовалось:
1. SQLlite в качестве БД - в самой БД 4 таблицы, все сделаны просто, с использованием integer varchar date и без каких либо доп параметров
2. Датасет - выдуманный мной. Очень небольшой набор товаров не особо популярного канцелярского магазина. Не стал брать дольшие датасеты из сети.
3. FastAPI - отличная библиотека чтобы развернуть http, можно сделать хорошую доку но в данном варианте документацию не прорабатывал
4. pyTelegramBotAPI - простая библиотека для простых решений, правда пришлось тоже подразобраться.
5. Остальные стандартые библиотеки

Что можно сделать лучше:
1. Сделать код более реюзабл.
2. Больше отлавливать ошибкок.
3. Использовать больше возможностей FastAPI и pyTelegramBotAPI
4. Взять другой датасет и другую базу
5. Добавиь красок в бот, чтобы было по приятней.

P.S В файлах .py есть подробные комментарии к коду тут повторяться не буду. 
